<mxfile host="app.diagrams.net" modified="2026-02-07T00:00:00.000Z" agent="draw.io" version="24.0.0" type="device">
  <diagram id="react-vs-rigid-architecture" name="System Architecture">
    <mxGraphModel dx="1600" dy="1500" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1600" pageHeight="1500" math="0" shadow="1">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- ====== TITLE ====== -->
        <mxCell id="title" value="ReAct vs Rigid Plan &amp;mdash; AI Recursive Q&amp;amp;A Tuneup&lt;br&gt;&lt;font style=&quot;font-size: 13px; font-weight: normal;&quot;&gt;System Architecture Diagram&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=20;fontStyle=1;fontColor=#1A237E;" vertex="1" parent="1">
          <mxGeometry x="330" y="10" width="520" height="55" as="geometry"/>
        </mxCell>

        <!-- ====== DOCKER INFRASTRUCTURE BACKGROUND ====== -->
        <mxCell id="docker_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#1565C0;strokeWidth=3;dashed=1;dashPattern=8 4;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="20" y="140" width="1120" height="1200" as="geometry"/>
        </mxCell>
        <mxCell id="docker_label" value="&lt;b&gt;Docker Compose Infrastructure&lt;/b&gt;  |  app_network (bridge)  |  Volumes: postgres_data, redis_data, static_volume, media_volume" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#1565C0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="30" y="1300" width="500" height="30" as="geometry"/>
        </mxCell>

        <!-- ====== CLIENT / BROWSER ====== -->
        <mxCell id="browser" value="&lt;b&gt;Client / Browser&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1565C0;strokeWidth=2;fontSize=14;fontColor=#0D47A1;shadow=1;arcSize=20;" vertex="1" parent="1">
          <mxGeometry x="430" y="80" width="280" height="45" as="geometry"/>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== LAYER 2: FRONTEND ====== -->
        <!-- ============================================================ -->
        <mxCell id="fe" value="&lt;b&gt;Frontend Layer&lt;/b&gt; &amp;mdash; React 18 + TypeScript + Material UI" style="swimlane;startSize=28;fillColor=#2196F3;strokeColor=#1565C0;strokeWidth=2;rounded=1;arcSize=6;fontColor=#FFFFFF;fontSize=12;fontStyle=1;shadow=1;collapsible=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="165" width="1060" height="155" as="geometry"/>
        </mxCell>
        <mxCell id="fe_spa" value="&lt;b&gt;React SPA&lt;/b&gt;&lt;br&gt;Nginx (:3081)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=11;fontColor=#0D47A1;shadow=1;" vertex="1" parent="fe">
          <mxGeometry x="15" y="38" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="fe_pages" value="&lt;b&gt;Pages&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Dashboard | Agent Runner | Comparison&lt;br&gt;Recursive Q&amp;amp;A | Sessions | Documents&lt;br&gt;Graphs | Contacts | MCP | A2A&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=10;fontColor=#0D47A1;shadow=1;" vertex="1" parent="fe">
          <mxGeometry x="170" y="38" width="310" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="fe_components" value="&lt;b&gt;Components&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;MermaidDiagram | LogViewer&lt;br&gt;StepTimeline | StatusChip&lt;br&gt;AgentTypeChip&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=10;fontColor=#0D47A1;shadow=1;" vertex="1" parent="fe">
          <mxGeometry x="495" y="38" width="220" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="fe_services" value="&lt;b&gt;Services&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Axios HTTP Client&lt;br&gt;WebSocket Client&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=10;fontColor=#0D47A1;shadow=1;" vertex="1" parent="fe">
          <mxGeometry x="730" y="38" width="170" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="fe_note" value="REST API + WebSocket to Backend" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#1565C0;fontSize=9;fontStyle=2;" vertex="1" parent="fe">
          <mxGeometry x="340" y="118" width="220" height="25" as="geometry"/>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== LAYER 3: BACKEND ====== -->
        <!-- ============================================================ -->
        <mxCell id="be" value="&lt;b&gt;Backend Layer&lt;/b&gt; &amp;mdash; Django 5.1 + DRF + Daphne ASGI (:8042)" style="swimlane;startSize=28;fillColor=#4CAF50;strokeColor=#2E7D32;strokeWidth=2;rounded=1;arcSize=6;fontColor=#FFFFFF;fontSize=12;fontStyle=1;shadow=1;collapsible=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="370" width="1060" height="195" as="geometry"/>
        </mxCell>
        <mxCell id="be_drf" value="&lt;b&gt;Django REST Framework&lt;/b&gt;&lt;br&gt;API Endpoints" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=11;fontColor=#1B5E20;shadow=1;" vertex="1" parent="be">
          <mxGeometry x="15" y="38" width="220" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="be_channels" value="&lt;b&gt;Django Channels&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;AgentExecutionConsumer&lt;br&gt;DashboardConsumer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=10;fontColor=#1B5E20;shadow=1;" vertex="1" parent="be">
          <mxGeometry x="250" y="38" width="220" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="be_daphne" value="&lt;b&gt;Daphne ASGI Server&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;fontColor=#1B5E20;shadow=1;dashed=1;" vertex="1" parent="be">
          <mxGeometry x="750" y="38" width="200" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="be_router" value="&lt;b&gt;URL Router&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=11;fontColor=#1B5E20;shadow=1;" vertex="1" parent="be">
          <mxGeometry x="15" y="110" width="140" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="be_viewsets" value="&lt;b&gt;ViewSets:&lt;/b&gt; ContactViewSet | AgentSessionViewSet | AgentComparisonViewSet | GraphViewSet | DocumentViewSet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=10;fontColor=#1B5E20;shadow=1;" vertex="1" parent="be">
          <mxGeometry x="170" y="110" width="640" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="be_arr_rv" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#2E7D32;strokeWidth=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" source="be_router" target="be_viewsets" parent="be">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== LAYER 4: AGENT SERVICES ====== -->
        <!-- ============================================================ -->
        <mxCell id="ag" value="&lt;b&gt;Agent Services Layer&lt;/b&gt; &amp;mdash; LangChain 0.3 + LangGraph 0.2" style="swimlane;startSize=28;fillColor=#9C27B0;strokeColor=#6A1B9A;strokeWidth=2;rounded=1;arcSize=6;fontColor=#FFFFFF;fontSize=12;fontStyle=1;shadow=1;collapsible=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="615" width="1060" height="250" as="geometry"/>
        </mxCell>
        <mxCell id="ag_react" value="&lt;b&gt;ReactAgentService&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Adaptive routing&lt;br&gt;LLM disambiguation&lt;br&gt;Retry loops&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="15" y="38" width="165" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ag_rigid" value="&lt;b&gt;RigidAgentService&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Fixed plan-and-execute&lt;br&gt;No retry&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="195" y="38" width="160" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ag_multi" value="&lt;b&gt;MultiAgentOrchestrator&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Supervisor agent&lt;br&gt;Research | Reasoning | Action&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="370" y="38" width="210" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ag_qa" value="&lt;b&gt;RecursiveQAService&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Iterative refinement&lt;br&gt;Confidence scoring&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="595" y="38" width="175" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ag_langgraph" value="&lt;b&gt;LangGraph&lt;br&gt;Workflows&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;dashed=1;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="800" y="48" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="ag_graph" value="&lt;b&gt;GraphVisualizer&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Mermaid diagram gen&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="15" y="135" width="155" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ag_mcp" value="&lt;b&gt;MCPService&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Model Context Protocol&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="185" y="135" width="160" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ag_a2a" value="&lt;b&gt;A2AService&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Agent-to-Agent Protocol&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;fontColor=#4A148C;shadow=1;" vertex="1" parent="ag">
          <mxGeometry x="360" y="135" width="160" height="60" as="geometry"/>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== LAYER 5: TASK QUEUE ====== -->
        <!-- ============================================================ -->
        <mxCell id="tq" value="&lt;b&gt;Task Queue Layer&lt;/b&gt; &amp;mdash; Celery 5.x" style="swimlane;startSize=28;fillColor=#FF9800;strokeColor=#E65100;strokeWidth=2;rounded=1;arcSize=6;fontColor=#FFFFFF;fontSize=12;fontStyle=1;shadow=1;collapsible=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="915" width="1060" height="115" as="geometry"/>
        </mxCell>
        <mxCell id="tq_worker" value="&lt;b&gt;Celery Worker&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;4 concurrent | Queues: default, agents, documents&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=10;fontColor=#BF360C;shadow=1;" vertex="1" parent="tq">
          <mxGeometry x="30" y="38" width="310" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="tq_beat" value="&lt;b&gt;Celery Beat&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Scheduled tasks&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=10;fontColor=#BF360C;shadow=1;" vertex="1" parent="tq">
          <mxGeometry x="370" y="38" width="180" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="tq_flower" value="&lt;b&gt;Flower Monitoring&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;(:5557)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=10;fontColor=#BF360C;shadow=1;" vertex="1" parent="tq">
          <mxGeometry x="580" y="38" width="180" height="55" as="geometry"/>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== LAYER 6: DATA STORES ====== -->
        <!-- ============================================================ -->
        <mxCell id="dl" value="&lt;b&gt;Data Layer&lt;/b&gt;" style="swimlane;startSize=28;fillColor=#FF9800;strokeColor=#E65100;strokeWidth=2;rounded=1;arcSize=6;fontColor=#FFFFFF;fontSize=12;fontStyle=1;shadow=1;collapsible=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="1080" width="1060" height="190" as="geometry"/>
        </mxCell>
        <mxCell id="dl_pg" value="&lt;b&gt;PostgreSQL 16&lt;/b&gt; (:5437)&lt;br&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Contact | AgentSession | AgentStep&lt;br&gt;QueryHistory | AgentComparison&lt;br&gt;Document | DocumentChunk&lt;/font&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=10;fontColor=#BF360C;shadow=1;" vertex="1" parent="dl">
          <mxGeometry x="60" y="38" width="350" height="130" as="geometry"/>
        </mxCell>
        <mxCell id="dl_redis" value="&lt;b&gt;Redis 7&lt;/b&gt; (:6383)&lt;br&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Cache Layer&lt;br&gt;Channel Layer (WebSocket)&lt;br&gt;Celery Broker&lt;/font&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=10;fontColor=#BF360C;shadow=1;" vertex="1" parent="dl">
          <mxGeometry x="560" y="38" width="300" height="130" as="geometry"/>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== LAYER 7: EXTERNAL SERVICES (RIGHT SIDE) ====== -->
        <!-- ============================================================ -->
        <mxCell id="ext" value="&lt;b&gt;External Services&lt;/b&gt;" style="swimlane;startSize=28;fillColor=#607D8B;strokeColor=#37474F;strokeWidth=2;rounded=1;arcSize=6;fontColor=#FFFFFF;fontSize=12;fontStyle=1;shadow=1;collapsible=0;" vertex="1" parent="1">
          <mxGeometry x="1200" y="370" width="240" height="380" as="geometry"/>
        </mxCell>
        <mxCell id="ext_openai" value="&lt;b&gt;OpenAI API&lt;/b&gt;&lt;br&gt;GPT-4o-mini" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#37474F;fontSize=11;fontColor=#263238;shadow=1;" vertex="1" parent="ext">
          <mxGeometry x="30" y="50" width="180" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="ext_langsmith" value="&lt;b&gt;LangSmith&lt;/b&gt;&lt;br&gt;Tracing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#37474F;fontSize=11;fontColor=#263238;shadow=1;" vertex="1" parent="ext">
          <mxGeometry x="30" y="140" width="180" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="ext_langfuse" value="&lt;b&gt;Langfuse&lt;/b&gt;&lt;br&gt;Observability" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#37474F;fontSize=11;fontColor=#263238;shadow=1;" vertex="1" parent="ext">
          <mxGeometry x="30" y="230" width="180" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="ext_label" value="Cloud APIs" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#B0BEC5;fontSize=10;fontStyle=2;" vertex="1" parent="ext">
          <mxGeometry x="50" y="310" width="140" height="25" as="geometry"/>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== CONNECTIONS / DATA FLOW ARROWS ====== -->
        <!-- ============================================================ -->

        <!-- 1. Browser to Frontend -->
        <mxCell id="arr_browser_fe" value="HTTP / WS" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#1565C0;strokeWidth=2;fontColor=#1565C0;fontSize=10;fontStyle=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" source="browser" target="fe" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- 2. Frontend to Backend (REST API) -->
        <mxCell id="arr_fe_be_rest" value="REST API" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2E7D32;strokeWidth=2;fontColor=#2E7D32;fontSize=10;fontStyle=1;exitX=0.35;exitY=1;exitDx=0;exitDy=0;entryX=0.35;entryY=0;entryDx=0;entryDy=0;" edge="1" source="fe" target="be" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- 3. Frontend to Backend (WebSocket - dashed) -->
        <mxCell id="arr_fe_be_ws" value="WebSocket" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2E7D32;strokeWidth=2;dashed=1;dashPattern=8 4;fontColor=#2E7D32;fontSize=10;fontStyle=2;exitX=0.65;exitY=1;exitDx=0;exitDy=0;entryX=0.65;entryY=0;entryDx=0;entryDy=0;" edge="1" source="fe" target="be" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- 4. Backend to Agent Services -->
        <mxCell id="arr_be_ag" value="Agent Execution" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6A1B9A;strokeWidth=2;fontColor=#6A1B9A;fontSize=10;fontStyle=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" source="be" target="ag" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- 5. Agent Services to Task Queue -->
        <mxCell id="arr_ag_tq" value="Task Dispatch" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E65100;strokeWidth=2;fontColor=#E65100;fontSize=10;fontStyle=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" source="ag" target="tq" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- 6. Task Queue to Data Layer -->
        <mxCell id="arr_tq_dl" value="Read / Write" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E65100;strokeWidth=2;fontColor=#E65100;fontSize=10;fontStyle=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" source="tq" target="dl" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- 7. Backend to Data Layer (left-side bypass for ORM + Cache) -->
        <mxCell id="arr_be_dl" value="ORM Queries + Cache" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#BF360C;strokeWidth=2;dashed=1;dashPattern=6 3;fontColor=#BF360C;fontSize=9;fontStyle=2;exitX=0;exitY=0.7;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;" edge="1" source="be" target="dl" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="25" y="507"/>
              <mxPoint x="25" y="1137"/>
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- 8. Agent Services to External (LLM API Calls) -->
        <mxCell id="arr_ag_ext" value="LLM API Calls" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#37474F;strokeWidth=2;fontColor=#37474F;fontSize=10;fontStyle=1;exitX=1;exitY=0.3;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;" edge="1" source="ag" target="ext" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1150" y="690"/>
              <mxPoint x="1150" y="484"/>
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- 9. Backend to External (Tracing / Observability) -->
        <mxCell id="arr_be_ext" value="Tracing / Observability" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#78909C;strokeWidth=1;dashed=1;dashPattern=6 3;fontColor=#607D8B;fontSize=9;fontStyle=2;exitX=1;exitY=0.4;exitDx=0;exitDy=0;entryX=0;entryY=0.12;entryDx=0;entryDy=0;" edge="1" source="be" target="ext" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1160" y="448"/>
              <mxPoint x="1160" y="416"/>
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- 10. Backend to Redis (Channel Layer - right-side route) -->
        <mxCell id="arr_be_redis" value="Channel Layer" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#BF360C;strokeWidth=1;dashed=1;dashPattern=4 2;fontColor=#BF360C;fontSize=9;fontStyle=2;exitX=0.92;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.3;entryDx=0;entryDy=0;" edge="1" source="be" target="dl" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1015" y="600"/>
              <mxPoint x="1115" y="600"/>
              <mxPoint x="1115" y="1137"/>
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ============================================================ -->
        <!-- ====== LEGEND ====== -->
        <!-- ============================================================ -->
        <mxCell id="legend_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#BDBDBD;strokeWidth=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1200" y="800" width="240" height="210" as="geometry"/>
        </mxCell>
        <mxCell id="legend_title" value="&lt;b&gt;Legend&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#212121;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1270" y="805" width="100" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="leg_fe" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196F3;strokeColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="1215" y="837" width="18" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="leg_fe_t" value="Frontend (React + MUI)" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="834" width="170" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg_be" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="1215" y="860" width="18" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="leg_be_t" value="Backend (Django + DRF)" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="857" width="170" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg_ag" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#6A1B9A;" vertex="1" parent="1">
          <mxGeometry x="1215" y="883" width="18" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="leg_ag_t" value="Agent Services (LangGraph)" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="880" width="180" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg_dl" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="1215" y="906" width="18" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="leg_dl_t" value="Data / Task Queue" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="903" width="170" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg_ext" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#607D8B;strokeColor=#37474F;" vertex="1" parent="1">
          <mxGeometry x="1215" y="929" width="18" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="leg_ext_t" value="External Services" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="926" width="170" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg_docker" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#1565C0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1215" y="952" width="18" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="leg_docker_t" value="Docker Infrastructure" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="949" width="170" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg_line1" value="" style="endArrow=classic;html=1;strokeColor=#333333;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1215" y="982" as="sourcePoint"/>
            <mxPoint x="1233" y="982" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="leg_line1_t" value="Data flow (sync)" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="972" width="100" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg_line2" value="" style="endArrow=classic;html=1;strokeColor=#333333;strokeWidth=1;dashed=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1215" y="1000" as="sourcePoint"/>
            <mxPoint x="1233" y="1000" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="leg_line2_t" value="Async / secondary" style="text;html=1;align=left;verticalAlign=middle;strokeColor=none;fillColor=none;fontColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="990" width="130" height="20" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
